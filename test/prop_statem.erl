%%==============================================================================
%% Test basic usage of the proper_contrib_statem.hrl boilerplate
%%==============================================================================
-module(prop_statem).

%% Behaviour
-behaviour(proper_statem).

%%==============================================================================
%% Includes
%%==============================================================================
-include_lib("proper/include/proper.hrl").
-include_lib("stdlib/include/assert.hrl").

-include("proper_contrib_statem.hrl").

%%==============================================================================
%% Compile directives
%%==============================================================================
-compile(export_all).
-compile(nowarn_export_all).

%%==============================================================================
%% A Sample Property
%%==============================================================================
prop_sample() ->
  ?FORALL(Cmds, proper_statem:commands(?MODULE),
          begin
            {_History, _S, Result} = proper_statem:run_commands(?MODULE, Cmds),
            Result =:= ok
          end).

%%==============================================================================
%% Initial State
%%==============================================================================
initial_state() ->
  #{}.

%%==============================================================================
%% Commands Weights
%%==============================================================================
weight(_State, _CmdName) ->
  1.

%%==============================================================================
%% Sample API
%%==============================================================================
sample_pre(_S, _Args) ->
  true.

sample() ->
  ok.

sample_args(_S) ->
  [].

sample_next(S, _Res, []) ->
  S.

sample_post(_S, [], _Res) ->
  true.
